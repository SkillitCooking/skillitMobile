  <ion-view hide-back-button="true" view-title="Let's Cook" class="cook-present-instructions" ng-class="getOpacity()" on-swipe-right="navigateBack()">
    <ion-nav-buttons side="primary">
      <button ng-click="navigateBack()" class="button top-back-button"><i class="ion-arrow-left-c top-back-button-arrow" aria-hidden="true"></i></button>
    </ion-nav-buttons>
    <ion-nav-buttons side="secondary">
      <button ng-if="fromCookTab()" ng-click="resetEverything()" class="button top-back-button reset">Reset</button>
    </ion-nav-buttons>
    <!-- do you want padding? -->
    <ion-content class="padding">
      <h1 ng-if="combinedRecipe.name">{{combinedRecipe.name}}</h1>
      <h1 ng-if="combinedRecipe.mainName">{{combinedRecipe.mainName}}</h1>
      <h3 ng-if="combinedRecipe.alaCarteNames">with {{combinedRecipe.alaCarteNames}}</h3> 
      <!--<button class="button button-spice-up-add-side" ng-if="!isFavoriteRecipe" ng-click="favoriteRecipe($event)">Save to Favorites</button>  -->
      <p>Active Time: {{getRecipeActiveTime()}} mins | Total Time: {{getRecipeTotalTime()}} mins</p>
      <div>
      </div>
      <!--RECIPE BADGES HERE -->
      <div class="recipe-badges-container">
        <img ng-repeat="badge in recipeBadges" ng-src="{{badge}}">
      </div>
      <div class="row">
        <div class="col col-75 ingredients-seasoning">
          <h3>Ingredient List</h3>
          <!--the test with combinedRecipe.mainVideos is a proxy for whether it is 
          truly a combined recipe-->
          <button ng-if="BYOIngredientTypes" ng-click="editBYOIngredients()" class="button button-spice-up-add-side">{{getEditIngredientsButtonText()}}</button>
          <div ng-repeat="recipeIngredients in ingredientsForRecipes">
            <h5 ng-if="combinedRecipe.mainVideos">{{recipeIngredients.name}}</h5>
            <ul> 
              <li ng-repeat="ingredient in recipeIngredients.ingredients">
              <!--ingredients such that ingredient.useInRecipe === false should only come through with Fulls-->
                &nbsp;&nbsp;• <span ng-if="ingredient.useInRecipe">{{ingredient.name}}</span>
                <s ng-if="!ingredient.useInRecipe">{{ingredient.name}}</s>
              </li>
              <li ng-if="categoryNeedsOilOrButter()">
                &nbsp;&nbsp;• <span>Oil or Butter</span>
              </li>
            </ul>
          </div>
          <button ng-click="addSide()" class="button button-spice-up-add-side">{{getAddSideText()}}</button>
          <div class="seasoning-section" ng-if="combinedRecipe.canAddSeasoningProfile">
            <h3>Seasoning</h3>
            <h5>Current Seasoning:</h5>
            <h5 class="current-seasoning">{{seasoningProfile.name}}</h5>
            <ul class="seasoning-spices-list">
              <li ng-repeat="spice in seasoningProfile.spices">
                &nbsp;&nbsp;• <span>{{capitalize(spice)}}</span>
              </li>
            </ul>
            <button class="button button-spice-up-add-side" ng-click="seasoningProfilePopup($event)">Spice Up Yo' Life</button>      
          </div>
        </div>          
      </div>
      <ion-list class="list">
      <h3>Instructions</h3>
      <div class="video-container">
        <youtube ng-if="playingVideo" video="playingVideo" playerid="'mainplayer'"></youtube>
      </div>
      <div class="row video-slider-dots" ng-if="combinedRecipe.mainVideos">
        <div class="col col-25 col-center">
          <button class="button button-white-round" ng-click="decrementMainVideo()"><i class="fa fa-arrow-left" aria-hidden="true"></i></button>
        </div>
        <div class="col col-50 col-center">
          <div ng-repeat="indicator in mainVideoIndicators track by $index">      
            <i ng-click="toggleMainVideo($index)" ng-class="getMainVideoDotClass($index)"></i>
          </div>
        </div>
        <div class="col col-25 col-center">
          <button class="button button-white-round" ng-click="incrementMainVideo()"><i class="fa fa-arrow-right" aria-hidden="true"></i></button>
        </div>
      </div>
      <br/>   
        <div ng-if="!isError()" ng-repeat="step in combinedRecipe.stepList">
          <div ng-switch on="isSingleStep(step)">
            <div ng-switch-when="true" ng-switch on="isClickable(step)">
              <ion-item ng-switch-when="true" ng-class="clickableStep(step)" class="recipe-instructions" ng-if="!step.isEmpty" ng-click="showTip(step, $event)">
                <p><b>Step {{getSubStepNumber(step, 'clickable-single')}}:</b> {{step.text}}</p>
                <br ng-if="step.stepType === 'Season'"/>
                <p ng-repeat="line in step.seasoningInfo">{{line}}</p>
                <i ng-if="step.hasTip" class="ion-ios-help-outline instruction-step-tip-icon"></i>
                <i ng-if="step.hasVideo" class="ion-ios-videocam-outline instruction-step-tip-icon"></i>
                <i ng-if="step.stepType === 'Season' && combinedRecipe.canAddSeasoningProfile" class="ion-ios-toggle-outline instruction-step-tip-icon"></i>
              </ion-item>
              <ion-item ng-switch-default ng-class="clickableStep(step)" class="recipe-instructions" ng-if="!step.isEmpty">
                <p><b>Step {{getSubStepNumber(step, 'notclickable-single')}}:</b> {{step.text}}</p>
              </ion-item>
            </div>
            <div ng-switch-default ng-repeat="subStep in step.textArr">
              <div ng-switch on="isClickable(subStep)">
                <ion-item ng-switch-when="true" class="recipe-instructions" ng-if="!step.isEmpty" ng-class="clickableStep(subStep)" ng-click="showTip(subStep, $event)">
                  <p><b>Step {{getSubStepNumber(subStep, 'clickable-notsingle')}}:</b> {{subStep.text}}</p>
                  <i ng-if="subStep.hasTip" class="ion-ios-help-outline instruction-step-tip-icon"></i>
                  <i ng-if="subStep.hasVideo" class="ion-ios-videocam-outline instruction-step-tip-icon"></i>
                </ion-item>
                <ion-item ng-switch-default class="recipe-instructions" ng-if="!step.isEmpty" ng-class="clickableStep(subStep)">
                  <p><b>Step {{getSubStepNumber(subStep, 'not-clickable-notsingle')}}:</b> {{subStep.text}}</p>
                </ion-item>
              </div>
            </div>
          </div>
        </div>
      </ion-list>
      <h3 class="center">Time to eat!</h3>
      <p style="text-align:center"><button class="button button-spice-up-add-side" ng-if="!isFavoriteRecipe" ng-click="favoriteRecipe($event)">Save to Favorites</button></p>
    </ion-content>
  </ion-view>
